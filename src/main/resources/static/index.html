<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Order App — Temporal</title>
</head>
<body>
<h1>Order App — Temporal (demo)</h1>
<div>
    <input id="orderId" placeholder="order-123" />
    <button onclick="start()">Start Order</button>
    <button onclick="cancel()">Cancel (by ID)</button>
    <button onclick="status()">Get Status (by ID)</button>
</div>
<pre id="out"></pre>

<script>
    const out = document.getElementById('out');
    function append(t){ out.textContent += '\n' + t }
    async function start(){
        const id = document.getElementById('orderId').value || 'order-' + Date.now();
        // start with workflowId equal to id
        const res = await fetch('/orders/start/' + id, { method: 'POST' });
        append(await res.text());
    }
    async function cancel(){
        const id = document.getElementById('orderId').value;
        if(!id){ append('Enter workflowId in the input'); return }
        const res = await fetch('/orders/cancel/' + id, { method: 'POST' });
        append(await res.text());
    }
    async function status(){
        const id = document.getElementById('orderId').value;
        if(!id){ append('Enter workflowId in the input'); return }
        const res = await fetch('/orders/status/' + id);
        append(await res.text());
    }
</script>
</body>
</html>